2025-11-29 16:20:49,478 - leetcode_main - INFO - logger.py:66 - info() - Starting LeetCode Agent
2025-11-29 16:20:49,479 - leetcode_main - INFO - logger.py:66 - info() - Problem input: https://leetcode.com/problems/two-sum/
2025-11-29 16:20:49,483 - leetcode_main - INFO - logger.py:66 - info() - Language: python, Optimization: time
2025-11-29 16:20:49,483 - leetcode_main - INFO - logger.py:66 - info() - Running LeetCode flow
2025-11-29 16:20:49,483 - leetcode_main - INFO - logger.py:66 - info() - Running LeetCode flow with problem: https://leetcode.com/problems/two-sum/
2025-11-29 16:20:49,485 - leetcode_main - INFO - logger.py:66 - info() - Language: python, Optimization: time, Max iterations: 3
2025-11-29 16:20:49,732 - leetcode_main - INFO - logger.py:66 - info() - Creating LeetCode workflow
2025-11-29 16:20:49,732 - leetcode_main - INFO - logger.py:66 - info() - LeetCode workflow created successfully
2025-11-29 16:20:49,732 - leetcode_main - INFO - logger.py:66 - info() - Starting workflow execution
2025-11-29 16:20:49,732 - leetcode_main - INFO - logger.py:66 - info() - Parsing problem input: https://leetcode.com/problems/two-sum/...
2025-11-29 16:20:49,737 - leetcode_main - INFO - logger.py:66 - info() - Scraping problem from URL
2025-11-29 16:20:50,294 - leetcode_main - ERROR - logger.py:74 - error() - Failed to scrape problem from URL: https://leetcode.com/problems/two-sum/
NoneType: None
2025-11-29 16:20:50,295 - leetcode_main - INFO - logger.py:66 - info() - Falling back to LLM-based parsing
2025-11-29 16:20:53,690 - leetcode_main - INFO - logger.py:66 - info() - Successfully parsed problem: Custom Problem
2025-11-29 16:21:03,817 - leetcode_main - ERROR - logger.py:74 - error() - Error running LeetCode flow: 'current_code'
Traceback (most recent call last):
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/flow.py", line 125, in run_leetcode_flow
    result = flow.run(shared_state)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 16, in run
    return self._run(shared)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 50, in _run
    def _run(self,shared): p=self.prep(shared); o=self._orch(shared); return self.post(shared,p,o)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 48, in _orch
    while curr: curr.set_params(p); last_action=curr._run(shared); curr=copy.copy(self.get_next_node(curr,last_action))
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 13, in _run
    def _run(self,shared): p=self.prep(shared); e=self._exec(p); return self.post(shared,p,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 33, in _exec
    if self.cur_retry==self.max_retries-1: return self.exec_fallback(prep_res,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 28, in exec_fallback
    def exec_fallback(self,prep_res,exc): raise exc
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 31, in _exec
    try: return self.exec(prep_res)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/nodes/feedback_loop.py", line 107, in exec
    prompt = prompt_template.format(
KeyError: 'current_code'
2025-11-29 16:21:03,820 - leetcode_main - ERROR - logger.py:74 - error() - Full traceback:
Traceback (most recent call last):
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/flow.py", line 125, in run_leetcode_flow
    result = flow.run(shared_state)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 16, in run
    return self._run(shared)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 50, in _run
    def _run(self,shared): p=self.prep(shared); o=self._orch(shared); return self.post(shared,p,o)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 48, in _orch
    while curr: curr.set_params(p); last_action=curr._run(shared); curr=copy.copy(self.get_next_node(curr,last_action))
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 13, in _run
    def _run(self,shared): p=self.prep(shared); e=self._exec(p); return self.post(shared,p,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 33, in _exec
    if self.cur_retry==self.max_retries-1: return self.exec_fallback(prep_res,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 28, in exec_fallback
    def exec_fallback(self,prep_res,exc): raise exc
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 31, in _exec
    try: return self.exec(prep_res)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/nodes/feedback_loop.py", line 107, in exec
    prompt = prompt_template.format(
KeyError: 'current_code'
Traceback (most recent call last):
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/flow.py", line 125, in run_leetcode_flow
    result = flow.run(shared_state)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 16, in run
    return self._run(shared)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 50, in _run
    def _run(self,shared): p=self.prep(shared); o=self._orch(shared); return self.post(shared,p,o)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 48, in _orch
    while curr: curr.set_params(p); last_action=curr._run(shared); curr=copy.copy(self.get_next_node(curr,last_action))
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 13, in _run
    def _run(self,shared): p=self.prep(shared); e=self._exec(p); return self.post(shared,p,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 33, in _exec
    if self.cur_retry==self.max_retries-1: return self.exec_fallback(prep_res,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 28, in exec_fallback
    def exec_fallback(self,prep_res,exc): raise exc
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 31, in _exec
    try: return self.exec(prep_res)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/nodes/feedback_loop.py", line 107, in exec
    prompt = prompt_template.format(
KeyError: 'current_code'
2025-11-29 16:21:03,821 - leetcode_main - ERROR - logger.py:74 - error() - Error: 'current_code'
Traceback (most recent call last):
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/main.py", line 72, in main
    result = run_leetcode_flow(
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/flow.py", line 125, in run_leetcode_flow
    result = flow.run(shared_state)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 16, in run
    return self._run(shared)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 50, in _run
    def _run(self,shared): p=self.prep(shared); o=self._orch(shared); return self.post(shared,p,o)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 48, in _orch
    while curr: curr.set_params(p); last_action=curr._run(shared); curr=copy.copy(self.get_next_node(curr,last_action))
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 13, in _run
    def _run(self,shared): p=self.prep(shared); e=self._exec(p); return self.post(shared,p,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 33, in _exec
    if self.cur_retry==self.max_retries-1: return self.exec_fallback(prep_res,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 28, in exec_fallback
    def exec_fallback(self,prep_res,exc): raise exc
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 31, in _exec
    try: return self.exec(prep_res)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/nodes/feedback_loop.py", line 107, in exec
    prompt = prompt_template.format(
KeyError: 'current_code'
2025-11-29 16:21:03,822 - leetcode_main - ERROR - logger.py:74 - error() - Full traceback:
Traceback (most recent call last):
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/main.py", line 72, in main
    result = run_leetcode_flow(
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/flow.py", line 125, in run_leetcode_flow
    result = flow.run(shared_state)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 16, in run
    return self._run(shared)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 50, in _run
    def _run(self,shared): p=self.prep(shared); o=self._orch(shared); return self.post(shared,p,o)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 48, in _orch
    while curr: curr.set_params(p); last_action=curr._run(shared); curr=copy.copy(self.get_next_node(curr,last_action))
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 13, in _run
    def _run(self,shared): p=self.prep(shared); e=self._exec(p); return self.post(shared,p,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 33, in _exec
    if self.cur_retry==self.max_retries-1: return self.exec_fallback(prep_res,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 28, in exec_fallback
    def exec_fallback(self,prep_res,exc): raise exc
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 31, in _exec
    try: return self.exec(prep_res)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/nodes/feedback_loop.py", line 107, in exec
    prompt = prompt_template.format(
KeyError: 'current_code'
Traceback (most recent call last):
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/main.py", line 72, in main
    result = run_leetcode_flow(
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/flow.py", line 125, in run_leetcode_flow
    result = flow.run(shared_state)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 16, in run
    return self._run(shared)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 50, in _run
    def _run(self,shared): p=self.prep(shared); o=self._orch(shared); return self.post(shared,p,o)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 48, in _orch
    while curr: curr.set_params(p); last_action=curr._run(shared); curr=copy.copy(self.get_next_node(curr,last_action))
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 13, in _run
    def _run(self,shared): p=self.prep(shared); e=self._exec(p); return self.post(shared,p,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 33, in _exec
    if self.cur_retry==self.max_retries-1: return self.exec_fallback(prep_res,e)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 28, in exec_fallback
    def exec_fallback(self,prep_res,exc): raise exc
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-adp/PocketFlow/pocketflow/__init__.py", line 31, in _exec
    try: return self.exec(prep_res)
  File "/nfs/FM/gongoubo/new_project/Agent-Handbook/pocketflow-leetcode/leetcode-agent/nodes/feedback_loop.py", line 107, in exec
    prompt = prompt_template.format(
KeyError: 'current_code'
